// Module included in the following assemblies:
//
// * /configure/kueue-apis.adoc

:_mod-docs-content-type: CONCEPT
[id="clusterqueues_{context}"]
= Cluster queues

A cluster queue is a cluster-scoped resource, represented by a `ClusterQueue` object, that governs a pool of resources such as CPU, memory, and pods.

Cluster queues can be used to define usage limits, quotas for resource flavors, order of consumption, and fair sharing rules.

You must have cluster administrator permissions and the `kueue-batch-admin-role` role to create `ClusterQueue` objects.

.Example of a basic `ClusterQueue` object using a single resource flavor
[source,yaml]
----
apiVersion: kueue.x-k8s.io/v1beta1
kind: ClusterQueue
metadata:
  name: example-queue
spec:
  namespaceSelector: {} <1>
  resourceGroups:
  - coveredResources: ["cpu", "memory", "pods"] <2>
    flavors:
    - name: "default-flavor" <3>
      resources: <4>
      - name: "cpu"
        nominalQuota: 9
      - name: "memory"
        nominalQuota: 36Gi
      - name: "pods"
        nominalQuota: 5
----
<1> Defines which namespaces can use the resources governed by this cluster queue. An empty `namespaceSelector` as shown in the example means that all namespaces can use these resources.
<2> Defines the resource types governed by the cluster queue. This example `ClusterQueue` object governs CPU, memory, and pod resources.
<3> Defines the resource flavor that is applied to the resource types listed. In this example, the `default-flavor` resource flavor is applied to CPU, memory, and pod resources.
<4> Defines the resource requirements for admitting jobs. This example cluster queue only admits jobs if the following conditions are met:
+
* The sum of the CPU requests is less than or equal to 9.
* The sum of the memory requests is less than or equal to 36Gi.
* The total number of pods is less than or equal to 5.

[role="_additional-resources"]
.Additional resources
* xref:../../authentication/rbac-permissions.adoc#rbac-permissions[RBAC permissions]
// TODO: Link to resource flavor docs once these exist?
* link:https://kueue.sigs.k8s.io/docs/concepts/cluster_queue/[Kubernetes documentation about cluster queues]
// TODO: Add links to content journey / user story content with different examples of cluster queues being used?
